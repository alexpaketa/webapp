import requests
import streamlit as st
from google import genai

# Configurar la p√°gina
st.set_page_config(page_title="CHAT CON GOKU", page_icon="üí•")

# T√≠tulo de la app

ascii_art_head = r"""
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ò‚£∑‚£∂‚£§‚£Ñ‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†∏‚£ø‚£ø‚£ø‚£ø‚£∑‚°í‚¢Ñ‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢π‚£ø‚£ø‚£ø‚£ø‚£ø‚£Ü‚†ô‚°Ñ‚†Ä‚†ê‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£§‚£§‚£§‚£§‚£§‚£§‚£§‚£§‚£§‚†§‚¢Ñ‚°Ä‚†Ä‚†Ä‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°Ü‚†ò‚°Ñ‚†Ä‚°Ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†ô‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£¶‚°à‚†í‚¢Ñ‚¢∏‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°Ä‚†±‚†Ä‚°á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£¶‚†Ä‚†±‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£á‚†Ä‚¢É‚°á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ò‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∑‚°Ñ‚£π‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∂‚£æ‚£ø‚£∂‚£§‚£Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£Ä‚£Ä‚¢ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∑‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£†‚£¥‚£∂‚£ø‚£≠‚£ç‚°â‚†ô‚¢ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∑‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£†‚£∂‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∑‚£¶‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á‚†Ä‚†Ä‚†Ä‚£Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†â‚†â‚†õ‚†ª‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ø‚†ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°∑‚¢Ç‚£ì‚£∂‚£∂‚£∂‚£∂‚£§‚£§‚£Ñ‚£Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†ô‚†ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚¢ø‚£ø‚£ø‚£ø‚†ü‚¢Ä‚£¥‚¢ø‚£ø‚£ø‚£ø‚†ü‚†ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†ø‚†õ‚†ã‚†â‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†§‚†§‚†§‚†§‚†ô‚£ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£æ‚£ø‚£ø‚°è‚£†‚†ü‚°â‚£æ‚£ø‚£ø‚†ã‚°†‚†ä‚£ø‚°ü‚£π‚£ø‚¢ø‚£ø‚£ø‚£ø‚†ø‚†õ‚†â‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£†‚£§‚£∂‚£§‚£≠‚£§‚£º‚£ø‚¢õ‚£ø‚£ø‚£ø‚£ø‚£ª‚£ø‚£ø‚†á‚†ê‚¢Ä‚£ø‚£ø‚°∑‚†ã‚†Ä‚¢†‚£ø‚£∫‚£ø‚£ø‚¢∫‚£ø‚£ã‚£â‚£â‚£©‚£¥‚£∂‚£§‚£§‚£Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†â‚†â‚†õ‚†ª‚†ø‚£ø‚£ø‚£ø‚£á‚¢ª‚£ø‚£ø‚°ø‚†ø‚£ø‚£Ø‚°Ä‚†Ä‚¢∏‚£ø‚†ã‚¢Ä‚£†‚£∂‚†ø‚†ø‚¢ø‚°ø‚†à‚£æ‚£ø‚£ø‚£ø‚£ø‚°ø‚†ø‚†õ‚†ã‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ô‚†ª‚¢ß‚°∏‚£ø‚£ø‚£ø‚†Ä‚†É‚†ª‚†ü‚¢¶‚¢æ‚¢£‚†∂‚†ø‚†è‚†Ä‚†∞‚†Ä‚£º‚°á‚£∏‚£ø‚£ø‚†ü‚†â‚†Ä‚†Ä‚¢Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£†‚£¥‚£æ‚£∂‚£Ω‚£ø‚°ü‚†ì‚†í‚†Ä‚†Ä‚°Ä‚†Ä‚††‚†§‚†¨‚†â‚†Å‚£∞‚£•‚£æ‚£ø‚£ø‚£∂‚£∂‚£∑‚°∂‚†Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†â‚†â‚†â‚†â‚†π‚†ü‚£ø‚£ø‚°Ñ‚†Ä‚†Ä‚††‚°á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢†‚°ü‚†õ‚†õ‚†ã‚†â‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£†‚†ã‚†π‚£∑‚£Ñ‚†Ä‚†ê‚£ä‚£Ä‚†Ä‚†Ä‚¢Ä‚°¥‚†Å‚†£‚£Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£Ä‚£§‚£Ä‚†§‚†ä‚¢Å‚°∏‚†Ä‚£Ü‚†π‚£ø‚£ß‚£Ä‚†Ä‚†Ä‚°†‚†ñ‚°ë‚†Å‚†Ä‚†Ä‚†Ä‚†ë‚¢Ñ‚£Ä‚£Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£∞‚£¶‚£∂‚£ø‚£ø‚£ü‚£Å‚£§‚£æ‚†ü‚†Å‚¢Ä‚£ø‚£Ü‚†π‚°Ü‚†ª‚£ø‚†â‚¢Ä‚†ú‚°∞‚†Ä‚†Ä‚†à‚†ë‚¢¶‚°Ä‚†à‚¢æ‚†ë‚°æ‚†≤‚£Ñ‚†Ä‚£Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£Ä‚£§‚£∂‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ø‚†ñ‚†í‚†ö‚†õ‚†õ‚†¢‚†Ω‚¢Ñ‚£ò‚£§‚°é‚††‚†ø‚†Ç‚†Ä‚††‚†¥‚†∂‚¢â‚°≠‚†É‚¢∏‚†É‚†Ä‚£ø‚£ø‚£ø‚†°‚£Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚°§‚†∂‚†ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ã‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢π‚°á‚†Ä‚†Ä‚†Ä‚†Ä‚†í‚†¢‚£§‚†î‚†Å‚†Ä‚¢Ä‚°è‚†Ä‚†Ä‚¢∏‚£ø‚£ø‚†Ä‚¢ª‚°ü‚†ë‚†¢‚¢Ñ‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚¢∏‚†Ä‚†Ä‚†Ä‚°Ä‚†â‚†õ‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∑‚£Ñ‚£Ä‚£Ä‚°Ä‚†Ä‚¢∏‚£∑‚°Ä‚£Ä‚£Ä‚°†‚†î‚†ä‚†Ä‚†Ä‚¢Ä‚£†‚°û‚†Ä‚†Ä‚†Ä‚¢∏‚£ø‚°ø‚†Ä‚†ò‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†ë‚¢§‚†Ä‚†Ä
‚†Ä‚†Ä‚¢Ä‚£¥‚£ø‚°Ä‚†Ä‚†Ä‚°á‚†Ä‚†Ä‚†Ä‚†à‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ù‚°õ‚†ø‚¢ø‚£∑‚£¶‚£Ñ‚°Ä‚†à‚†â‚†â‚†Å‚†Ä‚†Ä‚†Ä‚¢Ä‚£†‚£¥‚£æ‚£ø‚°ø‚†Å‚†Ä‚†Ä‚†Ä‚¢∏‚°ø‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚°ú‚†Ä‚†Ä
‚†Ä‚¢Ä‚£æ‚£ø‚£ø‚°á‚†Ä‚¢∞‚£∑‚†Ä‚¢Ä‚†Ä‚†Ä‚¢π‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∂‚£¶‚£≠‚£ç‚£â‚£â‚†Ä‚¢Ä‚£Ä‚£§‚£∂‚£æ‚£ø‚£ø‚£ø‚¢ø‚†ø‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†ò‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚°∞‚†â‚¢¶‚†Ä
‚¢Ä‚£º‚£ø‚£ø‚°ø‚¢±‚†Ä‚¢∏‚£ø‚°Ä‚¢∏‚£ß‚°Ä‚†Ä‚¢ø‚£ø‚£ø‚†ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°≠‚†ñ‚†Å‚†Ä‚°†‚†Ç‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢†‚†Ä‚†Ä‚†Ä‚¢†‚†É‚†Ä‚†à‚£Ä
‚¢∏‚£ø‚£ø‚£ø‚°á‚†Ä‚¢ß‚¢∏‚£ø‚£á‚¢∏‚£ø‚£∑‚°Ä‚†à‚£ø‚£ø‚£á‚†à‚†õ‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†ø‚†ø‚†ø‚†ø‚†ø‚†ø‚†ü‚°ª‚†ü‚†â‚†Ä‚†Ä‚°†‚†ä‚†Ä‚¢†‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£æ‚°Ñ‚†Ä‚¢†‚£ø‚†î‚†Å‚†Ä‚¢∏
‚†à‚£ø‚£ø‚£ø‚£∑‚°Ä‚†Ä‚¢ª‚£ø‚£ø‚°ú‚£ø‚£ø‚£∑‚°Ä‚†à‚¢ø‚£ø‚°Ñ‚†Ä‚†Ä‚†à‚†õ‚†ø‚£ø‚£ø‚£ø‚£∑‚£∂‚£∂‚£∂‚°∂‚†ñ‚†â‚†Ä‚£Ä‚£§‚°∂‚†ã‚†Ä‚£†‚£∂‚°è‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢∞‚£ø‚£ß‚£∂‚£ø‚£ø‚†ñ‚°†‚†ñ‚†Å
‚†Ä‚£ø‚£ø‚£∑‚£å‚°õ‚†∂‚£º‚£ø‚£ø‚£∑‚£ø‚£ø‚£ø‚£ø‚°Ñ‚†à‚¢ª‚£∑‚†Ä‚£Ñ‚°Ä‚†Ä‚†Ä‚†Ä‚†à‚†â‚†õ‚†õ‚†õ‚†Å‚£Ä‚£§‚£∂‚£æ‚†ü‚†ã‚†Ä‚£†‚£æ‚£ø‚°ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£ø‚£ø‚£ø‚£ø‚£ø‚†∑‚†ä‚†Ä‚¢∞‚†Ä
‚¢∞‚£ø‚£ø‚†Ä‚†à‚¢â‚°∂‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£Ü‚†Ä‚†ô‚¢á‚†à‚¢ø‚£∂‚£¶‚£§‚£Ä‚£Ä‚£†‚£§‚£∂‚£ø‚£ø‚°ø‚†õ‚†Å‚¢Ä‚£§‚£æ‚£ø‚£ø‚°ø‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£∏‚£ø‚°ø‚†ø‚†ã‚†ô‚†í‚†Ñ‚†Ä‚†â‚°Ñ
‚£ø‚£ø‚°è‚†Ä‚†Ä‚†Å‚†Ä‚†Ä‚†Ä‚†â‚†â‚†ô‚¢ª‚£ø‚£ø‚£ø‚£ø‚£∑‚°Ä‚†Ä‚†Ä‚†Ä‚†ª‚£ø‚£ø‚£ø‚£ø‚£ø‚†ø‚†ø‚†õ‚†Å‚†Ä‚£Ä‚£¥‚£ø‚£ø‚£ø‚£ø‚†ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢†‚†è‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†∞

    
             ‚ñà‚ñë‚ñà ‚ñà‚ñÄ‚ñà ‚ñà‚ñë‚ñë ‚ñÑ‚ñÄ‚ñà  ‚ÄÉ ‚ñà‚ñÄ ‚ñà‚ñÄ‚ñà ‚ñà‚ñÑ‚ñà ‚ÄÉ ‚ñà‚ñÄ‚ñÄ ‚ñà‚ñÄ‚ñà ‚ñà‚ñÑ‚ñÄ ‚ñà‚ñë‚ñà  ‚ÄÉ
             ‚ñà‚ñë‚ñà ‚ñà‚ñÄ‚ñà ‚ñà‚ñë‚ñë ‚ñÑ‚ñÄ‚ñà  ‚ÄÉ ‚ñà‚ñÄ ‚ñà‚ñÄ‚ñà ‚ñà‚ñÑ‚ñà ‚ÄÉ ‚ñà‚ñÄ‚ñÄ ‚ñà‚ñÄ‚ñà ‚ñà‚ñÑ‚ñÄ ‚ñà‚ñë‚ñà  ‚ÄÉ
             ‚ñà‚ñë‚ñà ‚ñà‚ñÄ‚ñà ‚ñà‚ñë‚ñë ‚ñÑ‚ñÄ‚ñà  ‚ÄÉ ‚ñà‚ñÄ ‚ñà‚ñÄ‚ñà ‚ñà‚ñÑ‚ñà ‚ÄÉ ‚ñà‚ñÄ‚ñÄ ‚ñà‚ñÄ‚ñà ‚ñà‚ñÑ‚ñÄ ‚ñà‚ñë‚ñà  ‚ÄÉ
             ‚ñà‚ñÄ‚ñà ‚ñà‚ñÑ‚ñà ‚ñà‚ñÑ‚ñÑ ‚ñà‚ñÄ‚ñà  ‚ÄÉ ‚ñÑ‚ñà ‚ñà‚ñÑ‚ñà ‚ñë‚ñà‚ñë ‚ÄÉ ‚ñà‚ñÑ‚ñà ‚ñà‚ñÑ‚ñà ‚ñà‚ñë‚ñà ‚ñà‚ñÑ‚ñà  ‚ÄÉ
"""

ascii_art_foot = r"""
      ,
(`-.-/(           .:::::.,
 `-.__)             ``:\:: .               /7_.-,
     '. -.       -  - `:::'           .- (  `_.=
       \  `--._   /   _?'`      ___.-'   -`"'
        \         -  / )----'''' -    .-'
         `--..   `--' ,'           .-'
              `\   --'       )---''
                )           )
                |          _|
                (           \
                 L          /
                 |          \
                 )__     _   \
                  \ `---' `--'
                   L         \
                   |   \      \
                    \   L     )
                     L_ (      \
                     |   \  .  J
                     |    `.    \
                  _.-`--='  \    )
                 (   _-'     `--'\
                  '"'        / ' J
                            (,_./
"""

st.markdown(f"```\n{ascii_art_head}\n```")

# Sidebar para configuraci√≥n
with st.sidebar:
    st.markdown("### üîëüîëüîëüîëüîë")
    
    # Intentar cargar desde secrets primero
    default_key = ""
    try:
        default_key = st.secrets.get("GEMINI_API_KEY", "")
    except:
        pass
    
    # Input para la API key
    api_key_input = st.text_input(
        "API Key Gemini",
        value=default_key,
        type="password",
        help="Consigue tu API key en https://aistudio.google.com/app/apikey"
    )
    
    if api_key_input:
        st.success("‚úÖ API Key configurada")
    else:
        st.warning("‚ö†Ô∏è ingresa API Key para iniciar")

# Configurar Gemini solo si hay API key
if api_key_input:
    @st.cache_resource
    def configure_gemini(api_key):
        try:
            client = genai.Client(api_key=api_key)
            
            # Listar modelos disponibles
            try:
                models = client.models.list()
                available_models = [m.name for m in models]
                return client, available_models
            except:
                return client, []
        except Exception as e:
            st.error(f"Error al configurar Gemini: {str(e)}")
            return None, []
    
    client, available_models = configure_gemini(api_key_input)
    
    if client:
        # Sidebar - Configuraci√≥n del modelo
        with st.sidebar:
            st.markdown("---")
            st.markdown("### ‚öôÔ∏è Configuraci√≥n del Modelo")
            
            # Selector de modelo
            model_options = {
                "Gemini 2.5 Flash (Recomendado)": "models/gemini-2.5-flash",
                "Gemini 2.5 Flash Lite": "models/gemini-2.5-flash-lite-preview-06-17",
                "Gemini 2.5 Pro": "models/gemini-2.5-pro-preview-03-25",
                "Gemini 2.5 Flash (Mayo)": "models/gemini-2.5-flash-preview-05-20"
            }
            
            selected_display = st.selectbox(
                "Selecciona el modelo",
                list(model_options.keys()),
                help="Gemini 2.5 Flash es el m√°s r√°pido y eficiente"
            )
            
            selected_model = model_options[selected_display]
            
            st.markdown("---")
            st.markdown("### üí¨ Conversaci√≥n")
            st.markdown(f"Mensajes: {len(st.session_state.get('messages', []))}")
            
            if st.button("üóëÔ∏è Limpiar conversaci√≥n"):
                st.session_state.messages = []
                st.rerun()
        
        # Inicializar el historial de chat
        if "messages" not in st.session_state:
            st.session_state.messages = []
        
        # Mostrar historial de mensajes
        for message in st.session_state.messages:
            with st.chat_message(message["role"]):
                st.markdown(message["content"])
        
        # Input del usuario
        if prompt := st.chat_input("¬°¬°¬°¬°GOKUUUUUU!!!"):
            # Agregar mensaje del usuario al historial
            st.session_state.messages.append({"role": "user", "content": prompt})
            
            # Mostrar mensaje del usuario
            with st.chat_message("user"):
                st.markdown(prompt)
            
            # Obtener respuesta de Gemini
            with st.chat_message("assistant"):
                with st.spinner("Pensando..."):
                    try:
                        response = client.models.generate_content(
                            model=selected_model,
                            contents=prompt
                        )
                        response_text = response.text
                        st.markdown(response_text)
                        
                        # Agregar respuesta al historial
                        st.session_state.messages.append({
                            "role": "assistant",
                            "content": response_text
                        })
                    except Exception as e:
                        st.error(f"‚ùå Error: {str(e)}")
                        st.info("üí° Verifica tu API key o intenta con otro modelo")
    else:
        st.error("No se pudo configurar el cliente de Gemini. Verifica tu API key.")
else:
    # Mensaje inicial cuando no hay API key
    st.info("üëà ingresa API Key hablar con Goku.")
    st.markdown(f"```\n{ascii_art_foot}\n```")